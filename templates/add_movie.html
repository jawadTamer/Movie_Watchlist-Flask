{% extends "base.html" %} {% block title %}Add Movie - Movie Watchlist{%
endblock %} {% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
  <h2 class="mb-0">Add New Movie</h2>
  <a href="{{ url_for('index') }}" class="btn btn-secondary">
    <i class="fas fa-arrow-left me-2"></i>Back to Watchlist
  </a>
</div>

<div class="row justify-content-center">
  <div class="col-md-8 col-lg-6">
    <div class="card shadow">
      <div class="card-body p-4">
        <form method="POST" class="movie-form" enctype="multipart/form-data">
          <div class="mb-3">
            <label for="title" class="form-label"
              ><i class="fas fa-film me-2"></i>Movie Title
              <span class="text-danger">*</span></label
            >
            <input
              type="text"
              class="form-control"
              id="title"
              name="title"
              required
              placeholder="Enter movie title"
            />
          </div>

          <div class="mb-3">
            <label for="director" class="form-label"
              ><i class="fas fa-user me-2"></i>Director</label
            >
            <input
              type="text"
              class="form-control"
              id="director"
              name="director"
              placeholder="Enter director name"
            />
          </div>

          <div class="mb-3">
            <label for="year" class="form-label"
              ><i class="fas fa-calendar me-2"></i>Year</label
            >
            <input
              type="number"
              class="form-control"
              id="year"
              name="year"
              placeholder="Enter release year"
              min="1900"
              max="2030"
            />
          </div>

          <div class="mb-3">
            <label for="genre" class="form-label"
              ><i class="fas fa-tag me-2"></i>Genre</label
            >
            <select class="form-select" id="genre" name="genre">
              <option value="">Select a genre</option>
              <option value="Action">Action</option>
              <option value="Adventure">Adventure</option>
              <option value="Comedy">Comedy</option>
              <option value="Drama">Drama</option>
              <option value="Horror">Horror</option>
              <option value="Sci-Fi">Sci-Fi</option>
              <option value="Thriller">Thriller</option>
              <option value="Romance">Romance</option>
              <option value="Documentary">Documentary</option>
              <option value="Animation">Animation</option>
              <option value="Other">Other</option>
            </select>
          </div>

          <div class="mb-4">
            <label for="image" class="form-label"
              ><i class="fas fa-image me-2"></i>Movie Poster</label
            >
            <div class="file-upload-container">
              <input
                type="file"
                class="form-control"
                id="image"
                name="image"
                accept="image/*"
              />
            </div>
            <div class="form-text">
              <i class="fas fa-info-circle me-1"></i>Supported formats: PNG,
              JPG, JPEG, GIF, WEBP (Max 5MB)
            </div>
          </div>

          <div class="d-flex gap-2">
            <button type="submit" class="btn btn-primary flex-fill">
              <i class="fas fa-plus-circle me-2"></i>Add Movie
            </button>
            <a href="{{ url_for('index') }}" class="btn btn-outline-secondary">
              <i class="fas fa-times me-2"></i>Cancel
            </a>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<script>
  document.getElementById("image").addEventListener("change", function (e) {
    const file = e.target.files[0];
    const input = this;

    if (file) {
      const fileName = file.name;
      const label = input.nextElementSibling;
      if (label && label.classList.contains("custom-file-label")) {
        label.textContent = fileName;
      }

      input.classList.add("is-valid");
    } else {
      input.classList.remove("is-valid");
    }
  });
</script>
{% endblock %}
